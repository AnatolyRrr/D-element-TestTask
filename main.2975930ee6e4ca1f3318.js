(()=>{"use strict";const e={name:/^([\s]+)?[a-zа-яА-Я]([-a-zа-яА-Я]+)((\s+[-a-zа-яА-Я]+[a-zа-яА-Я]?){1,2})?([\s]+)?$/i,email:/[^.]([-\w\.#$%&'*+\/=?^`{|}~]+)@([a-z\d-]{1,61})\.([a-z]{2,8})(\.[a-z]{2})?/i,message:/[a-zа-яА-Я]{2,}/i};function t(e,t){t.test(e.value)?(e.classList.remove("invalid"),e.classList.add("valid")):(e.classList.remove("valid"),e.classList.add("invalid"))}class s{constructor(e){this.$popup=document.querySelector(e)}show(){this.$popup.style.display="flex",this.$popup.style.justifyContent="center",document.body.style.overflow="hidden"}hide(){this.$popup.style.display="none",document.body.style.overflow=""}}document.querySelectorAll(".link").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault()}))}));const a=document.querySelector(".hamburger"),o=document.querySelector(".header__nav");let r=!1;function n(){o&&a&&(r?(o.classList.remove("header__nav--active"),a.classList.remove("hamburger--active"),r=!1):(o.classList.add("header__nav--active"),a.classList.add("hamburger--active"),r=!0))}a.onclick=n;document.querySelectorAll(".header__link").forEach((e=>{e.addEventListener("click",(()=>{!function(e,t){if(e){let s=e.getAttribute("href"),a=document.querySelector(s).offsetTop;window.scrollTo({top:a-t,behavior:"smooth"})}}(e,100),n()}))}));const c=document.querySelector(".more-client__btn"),i=document.querySelectorAll(".more-client__item");c.onclick=function(){i&&(c.classList.add("more-client__btn--disabled"),i.forEach((e=>{e.classList.add("more-client__item--activate")})))};const l=new s(".modal-msg");l.$popup.addEventListener("click",(e=>{!e.target.matches(".msg__close")&&e.target.closest(".msg")||l.hide()}));const d=new class extends s{constructor(e,t){super(e),this.$inputs=document.querySelectorAll(t)}clearInputs(){this.$inputs.forEach((e=>{e.value="",e.classList.remove("valid","invalid")}))}validateInputs(){this.$inputs.forEach((s=>{t(s,e[s.attributes.name.value])}))}}(".modal-form",".form__input");document.querySelector(".talk__btn").addEventListener("click",(()=>{d&&(d.show(),d.clearInputs())})),d.$popup.addEventListener("click",(e=>{!e.target.matches(".form__close")&&e.target.closest(".form")||(e.preventDefault(),d.hide())})),d.$inputs.forEach((s=>{s.addEventListener("blur",(s=>{t(s.target,e[s.target.attributes.name.value])}))}));const u=document.querySelector(".form"),m=document.querySelector(".form__name"),p=document.querySelector(".form__email"),h=document.querySelector(".form__message"),v=document.querySelector(".msg__title");u.addEventListener("submit",(e=>{e.preventDefault(),m.classList.contains("valid")&&p.classList.contains("valid")&&h.classList.contains("valid")?(async(e,t)=>{const s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:new FormData(t)});if(!s.ok)throw new Error(`Ошибка по адресу ${e}, статус ошибки ${s}`);return await s.json()})("https://d-element-databse-default-rtdb.europe-west1.firebasedatabase.app/userform.json",u).then((()=>{v.innerHTML="Your message successfully sent",d.hide(),l.show()})).catch((()=>{v.innerHTML="Error posting form, expected later",d.hide(),l.show()})):d.validateInputs()}))})();